# AI Service Environment Configuration
# Copy this file to .env and fill in the actual values

# Application Configuration
HOST=0.0.0.0
PORT=8001
DEBUG=true
VERSION=1.0.0
LOG_LEVEL=info

# Database Configuration
DATABASE_URL=postgresql://kmrl_user:kmrl_password@localhost:5432/kmrl_train_db

# Redis Configuration
REDIS_URL=redis://localhost:6379

# CORS Configuration
CORS_ORIGINS=["http://localhost:3000", "http://localhost:3001"]
ALLOWED_HOSTS=["localhost", "127.0.0.1", "0.0.0.0"]

# Optimization Engine Configuration
MAX_TRAINSETS=25
MAX_OPTIMIZATION_TIME=300
DEFAULT_ALGORITHM=constraint_programming
ENABLE_PARALLEL_PROCESSING=true
MAX_WORKERS=4

# Machine Learning Configuration
ML_MODEL_PATH=./models
ML_TRAINING_DATA_PATH=./data/training
ML_CACHE_SIZE=1000
ML_PREDICTION_THRESHOLD=0.8
ENABLE_MODEL_RETRAINING=true
RETRAINING_SCHEDULE=0 2 * * 0

# OR-Tools Configuration
ORTOOLS_SOLVER_TIMEOUT=180
ORTOOLS_MAX_MEMORY_MB=2048
ORTOOLS_THREADS=4

# Performance Configuration
REQUEST_TIMEOUT=300
MAX_CONCURRENT_OPTIMIZATIONS=5
OPTIMIZATION_QUEUE_SIZE=100
RESULT_CACHE_TTL=3600

# Algorithm Weights (defaults)
DEFAULT_FITNESS_WEIGHT=0.25
DEFAULT_MILEAGE_WEIGHT=0.25
DEFAULT_BRANDING_WEIGHT=0.20
DEFAULT_MAINTENANCE_WEIGHT=0.15
DEFAULT_CLEANING_WEIGHT=0.10
DEFAULT_STABLING_WEIGHT=0.05

# Constraint Penalties
FITNESS_VIOLATION_PENALTY=100
MAINTENANCE_DELAY_PENALTY=50
MILEAGE_IMBALANCE_PENALTY=30
BRANDING_LOSS_PENALTY=20

# Data Validation
MIN_TRAINSETS_FOR_OPTIMIZATION=2
MAX_MILEAGE_VARIANCE=0.25
MIN_FITNESS_VALIDITY_DAYS=30
MAX_MAINTENANCE_OVERDUE_DAYS=90

# Monitoring & Logging
ENABLE_METRICS=true
METRICS_PORT=8002
LOG_FILE_PATH=./logs/ai-service.log
LOG_MAX_SIZE=50mb
LOG_BACKUP_COUNT=5

# External APIs
WEATHER_API_KEY=your_weather_api_key
WEATHER_API_URL=https://api.openweathermap.org/data/2.5
TRAFFIC_API_KEY=your_traffic_api_key

# Backup & Recovery
ENABLE_MODEL_BACKUP=true
MODEL_BACKUP_INTERVAL=86400
BACKUP_RETENTION_DAYS=30

# Security
ENABLE_API_KEY_AUTH=false
API_KEY=your_api_key_here
RATE_LIMIT_PER_MINUTE=60
ENABLE_REQUEST_VALIDATION=true

# Development Configuration
DEV_MOCK_OPTIMIZATION=false
DEV_OPTIMIZATION_DELAY=5
DEV_ENABLE_PROFILING=false
DEV_SAVE_OPTIMIZATION_LOGS=true

# Feature Flags
ENABLE_GENETIC_ALGORITHM=true
ENABLE_SIMULATED_ANNEALING=true
ENABLE_REINFORCEMENT_LEARNING=false
ENABLE_BATCH_OPTIMIZATION=true
ENABLE_REAL_TIME_UPDATES=true
